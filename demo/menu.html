<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<title>菜单</title>
<link href="style.css" type="text/css" rel="stylesheet"/>
<script src="move.js" type="text/javascript"></script>
<script type="text/javascript">
window.onload = function(){
	var oDiv = document.getElementById("div1");
	var oNavBox = oDiv.children[0];
	var oUl = oDiv.children[1];
	var aLi = oUl.children;
	var opened = false;
	
	for(var i = 0 ; i < aLi.length ; i++){
		if(i%2==1){
			aLi[i].style.left = -aLi[i].offsetWidth + "px";
		}else{
			aLi[i].style.left = aLi[i].offsetWidth +"px"
		}
	}
	
	oNavBox.onclick = function(){
		if(opened){
			var i= aLi.length-1;
			var timer = setInterval(function(){
				var ileft= i%2?-aLi[i].offsetWidth:aLi[i].offsetWidth;
				startMove(aLi[i],{left:ileft,opacity:0})
				i--;
				if(i == -1){
					clearInterval(timer);
				}
			},77)
		}else{
			var i = 0;
			var timer = setInterval(function(){
				startMove(aLi[i],{left:0,opacity:100});
				i++;
				if(i == aLi.length){
					clearInterval(timer);
				}
			},77)
		}
		
		if(opened){
			opened = false;
		}else{
			opened = true;
		}
	};
	for(var i = 0 ; i <aLi.length ;i++){
		aLi[i].onclick=function(){
			var oSpan = oNavBox.children[0];
			var i= aLi.length-1;
				opened = false;
			oSpan.innerHTML = this.children[0].innerHTML;
			var timer = setInterval(function(){
				var ileft= i%2?-aLi[i].offsetWidth:aLi[i].offsetWidth;
				startMove(aLi[i],{left:ileft,opacity:0})
				i--;
				if(i == -1){
					clearInterval(timer);
				}
			},77)
		}
	}
};
</script>
</head>
<body>
<div class="wrap" id="div1">
	<div class="navBox">
		<span><img src="" style="display:none"/>请选择</span>
		<em class="triangle"><i></i></em>
	</div>
	<ul class="navList" >
		<li><a href="#">菜单A</a></li>
		<li><a href="#">菜单B</a></li>
		<li><a href="#">菜单C</a></li>
		<li><a href="#">菜单D</a></li>
		<li><a href="#">关于我们</a></li>
	</ul>
</div>
</body>
</html>
